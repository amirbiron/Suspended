# 🔥 מדריך סינון שגיאות - Errors Filter Guide

## ✨ מה חדש?

עכשיו אתה יכול **לראות רק שגיאות** במקום כל הלוגים!

---

## 🚀 שלוש דרכים לצפות בשגיאות

### 1️⃣ פקודת `/errors` (המומלצת!)
הדרך הכי פשוטה וקלה:

```bash
/errors srv-123456              # 100 שגיאות אחרונות
/errors srv-123456 50           # 50 שגיאות אחרונות  
/errors srv-123456 100 5        # שגיאות מ-5 דקות אחרונות
```

---

### 2️⃣ עם `/logs` + פרמטר `errors`
```bash
/logs srv-123456 100 5 errors   # 100 שגיאות מ-5 דקות
/logs srv-123456 50 - errors    # 50 שגיאות (בלי טווח זמן)
```

**שים לב:** אם אתה לא רוצה להגדיר זמן אבל כן רוצה סינון, השתמש ב-`-`:
```bash
/logs srv-123 50 - errors       # "-" = דלג על זמן
```

---

### 3️⃣ סינון אחר
```bash
/logs srv-123456 100 5 stdout   # רק STDOUT
/logs srv-123456 100 5 stderr   # רק STDERR
/logs srv-123456 100 5 all      # הכל (ברירת מחדל)
```

---

## 🔍 מה נחשב כשגיאה?

הבוט זוהה שגיאות על פי:

### 1. **STDERR Stream**
כל מה שיוצא ל-STDERR נחשב שגיאה אוטומטית

### 2. **Patterns של שגיאות**
- `error`, `exception`, `failed`
- `crash`, `fatal`
- `traceback`, `stack trace`
- HTTP status codes: `400`, `404`, `500`, `503`, וכו'
- `uncaught`, `unhandled`

---

## 📊 דוגמאות פלט

### אם יש שגיאות:
```
📋 מביא 100 לוגים הכי אחרונים
🤖 שירות: My Bot
🔍 סינון: שגיאות בלבד 🔥

📋 לוגים של My Bot

🕐 טווח: 14:25:30 - 14:30:45
📊 סה"כ: 12 שורות | 🔍 סינון: שגיאות בלבד 🔥

🔴 STDERR (שגיאות):
```
Error: Connection timeout
```

```
Exception: ValueError in process_data
```

📝 STDOUT (פלט רגיל):
```
ERROR: Failed to connect to database
```

💡 עצות:
• הקש /logs_monitor srv-123 להפעלת ניטור אוטומטי
• השורות מוצגות מהישן לחדש (כרונולוגית)
```

---

### אם אין שגיאות:
```
✅ מצוין! לא נמצאו שגיאות בתקופה זו 🎉
```

---

## 💡 מתי להשתמש בכל דרך?

### `/errors` - הכי פשוט!
✅ כשאתה רוצה רק שגיאות במהירות  
✅ אחרי deploy  
✅ בדיקה יומיומית  
✅ כשמישהו מדווח על בעיה  

**דוגמה:** "הבוט לא עובד, בוא נראה מה השגיאה"
```bash
/errors srv-prod-bot 100 5
```

---

### `/logs ... errors` - יותר גמיש
✅ כשאתה רוצה שליטה מדויקת  
✅ כשאתה עובר בין סינונים שונים  
✅ כשאתה רוצה גם stdout וגם stderr  

**דוגמה:** "בוא נראה הכל, ואז רק שגיאות"
```bash
/logs srv-123 100 5           # הכל
/logs srv-123 100 5 errors    # רק שגיאות
/logs srv-123 100 5 stdout    # רק פלט רגיל
```

---

## 🎯 תרחישי שימוש נפוצים

### תרחיש 1: בדיקה אחרי Deploy
```bash
# מיד אחרי deploy
/errors srv-prod-bot 50 2

# אם אין שגיאות
✅ מצוין! לא נמצאו שגיאות בתקופה זו 🎉

# אם יש שגיאות
🔥 12 שגיאות נמצאו!
```

---

### תרחיש 2: Debug בעיה דווחה
```
לקוח: "הבוט לא עובד מזה 10 דקות"

שלב 1: בדוק שגיאות
/errors srv-prod-bot 100 10

שלב 2: מצאת משהו חשוד?
/logs srv-prod-bot 200 10    # ראה הקשר מלא
```

---

### תרחיש 3: מעקב יומיומי
```bash
# כל בוקר
/errors srv-prod-bot 100 1440    # שגיאות מ-24 שעות

# אם יש משהו
/logs srv-prod-bot 200 60        # זום אין על השעה האחרונה
```

---

### תרחיש 4: בדיקת תקלה כרונית
```bash
# בדוק אם זה קורה לאורך זמן
/errors srv-prod-bot 200

# אם יש הרבה שגיאות
/logs_monitor srv-prod-bot 3     # הפעל ניטור
```

---

## 📋 השוואה: `/logs` vs `/errors`

| תכונה | `/logs` | `/errors` |
|-------|---------|-----------|
| **מה מוצג** | הכל (ברירת מחדל) | רק שגיאות |
| **פשטות** | צריך פרמטר נוסף | פשוט וקל |
| **גמישות** | יכול לסנן כל דבר | רק שגיאות |
| **קיצור** | ארוך יותר | קצר! |
| **דוגמה** | `/logs srv-123 100 5 errors` | `/errors srv-123 100 5` |

---

## 🔧 טכניקות מתקדמות

### 1. השוואה מהירה
```bash
# רק שגיאות
/errors srv-123 50 5

# רק stdout (לבדוק אם יש משהו חשוד שלא ב-stderr)
/logs srv-123 50 5 stdout
```

---

### 2. חיפוש נקודתי
```bash
# בדוק 2 דקות אחרונות
/errors srv-123 50 2

# אם מצאת משהו - הרחב
/errors srv-123 100 10

# עדיין לא מספיק? ראה הכל
/logs srv-123 200 10
```

---

### 3. מעקב מתמיד
```bash
# כל כמה דקות
/errors srv-123 30 2
# המתן דקה
/errors srv-123 30 2
# המתן דקה
/errors srv-123 30 2
```

טיפ: אם אתה עושה את זה הרבה, שקול:
```bash
/logs_monitor srv-123 3    # קבל התראות אוטומטיות!
```

---

## ⚡ טיפים וטריקים

### 1. קיצורים מהירים
במקום:
```bash
/logs srv-d26cf32dbo4c73f27de0 100 5 errors
```

פשוט:
```bash
/errors srv-d26cf32dbo4c73f27de0 100 5
```

---

### 2. בדיקה מהירה
```bash
# בוקר - מה קרה הלילה?
/errors srv-prod-bot 50

# אין שגיאות? מעולה!
✅ מצוין! לא נמצאו שגיאות בתקופה זו 🎉
```

---

### 3. Debug שכבות
```bash
1. /errors srv-123 50          # יש בעיה?
2. /errors srv-123 100 10      # קבל יותר הקשר
3. /logs srv-123 200 10        # ראה הכל עם ההקשר
```

---

### 4. שילוב עם ניטור
```bash
# הפעל ניטור לוגים
/logs_monitor srv-123 5

# בדוק מדי פעם ידנית
/errors srv-123 50 5

# יש בעיה חוזרת? הורד סף
/logs_monitor srv-123 2
```

---

## 🆚 השוואה לכלים אחרים

### VS. Render Dashboard
**Render Dashboard:**
- צריך לפתוח דפדפן
- למצוא את השירות
- ללחוץ על Logs
- לגלול לחפש שגיאות

**הבוט:**
```bash
/errors srv-123 100 5    # ובום! רק שגיאות
```

---

### VS. `grep`
**בטרמינל:**
```bash
# צריך SSH/Docker
docker logs myapp | grep -i error | tail -100
```

**הבוט:**
```bash
/errors srv-123 100    # מטלגרם. מכל מקום.
```

---

## 🎓 שאלות נפוצות

### ש: מה קורה אם אין שגיאות?
**ת:** תקבל הודעה חיובית:
```
✅ מצוין! לא נמצאו שגיאות בתקופה זו 🎉
```

### ש: האם `/errors` מחליף את `/logs`?
**ת:** לא! זה נוסף. `/logs` עדיין מציג הכל בברירת מחדל.

### ש: איך אני יכול לראות גם stdout שיש בו שגיאות?
**ת:** `/errors` מזהה גם שגיאות ב-stdout (כמו "ERROR: ...").

### ש: מה ההבדל בין `errors` ל-`stderr`?
**ת:**
- `stderr` - רק מה שיוצא ל-STDERR stream
- `errors` - STDERR + כל דבר שנראה כמו שגיאה ב-STDOUT

---

## 🎉 סיכום

### לפני:
```bash
/logs srv-123 200
# מקבל 200 שורות, רובן לא רלוונטיות
# צריך לחפש ידנית את השגיאות
😫
```

### אחרי:
```bash
/errors srv-123 100 5
# רק השגיאות מה-5 דקות האחרונות
# מסונן ומוכן!
😊🎯
```

---

**פקודות מהירות לזכרון:**

```bash
/errors srv-123                 # שגיאות אחרונות
/errors srv-123 50 5            # 50 שגיאות מ-5 דקות
/logs srv-123 100 5 errors      # אותו דבר (יותר גמיש)
/logs srv-123 100 5 stdout      # רק פלט רגיל
/logs srv-123 100 5 stderr      # רק STDERR
```

---

📖 **למדריכים נוספים:**
- [LOG_MONITORING_GUIDE.md](LOG_MONITORING_GUIDE.md) - מדריך מלא
- [LOGS_TIME_RANGE_EXPLAINED.md](LOGS_TIME_RANGE_EXPLAINED.md) - טווחי זמן
- [QUICK_START_LOGS.md](QUICK_START_LOGS.md) - התחלה מהירה

**גרסה:** 2.2 - Errors Filter Edition  
**סטטוס:** ✅ Production Ready
